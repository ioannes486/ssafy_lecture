<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .photos img {
        width: 500px;
      }
    </style>
  </head>

  <body>
    <h1>Mars Rover Photos - Step 2</h1>
    <form class="search-form">
      <label for="input-sol">화성일 : </label>
      <input
        type="number"
        class="input-sol"
        id="input-sol"
        min="0"
        max="4000"
      />
      <input type="submit" value="Search" />
    </form>
    <div class="photos"></div>

    <script>
      const API_URL = "https://api.nasa.gov/planetary/apod/";
      const API_KEY = "DEMO_KEY";

      const photoContainer = document.querySelector(".photos");
      async function fetchData() {
        const params = {
          api_key: API_KEY,
          start_date: "2025-11-01",
        };
        const queryString = new URLSearchParams(params).toString();
        const url = `${API_URL}?${queryString}`;
        try {
          const response = await fetch(url);

          const photos = await response.json();

          photos.forEach((photo) => {
            const imgElement = document.createElement("img");
            imgElement.src = photo.hdurl;
            photoContainer.appendChild(imgElement);
          });
        } catch (error) {
          console.error("에러가 발생했습니다", error.stack);
        }
      }

      fetchData();
    </script>
  </body>
</html>
